<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html">
	<h:head>
		<f:facet name="first">

			<meta charset="utf-8" />
			<meta http-equiv="X-UA-Compatible" content="IE=edge" />
			<meta name="viewport" content="width=device-width, initial-scale=1" />
			<meta name="description" content="" />
			<meta name="author" content="" />
			<link rel="shortcut icon" href="images/logo3.jpg"></link>

			<title>Happy Holidays</title>

			<!-- Bootstrap Core CSS -->
			<link href="bower_components/bootstrap/dist/css/bootstrap.min.css"
				rel="stylesheet" />

			<!-- MetisMenu CSS -->
			<link href="bower_components/metisMenu/dist/metisMenu.min.css"
				rel="stylesheet" />

			<!-- Custom CSS -->
			<link href="dist/css/sb-admin-2.css" rel="stylesheet" />

			<!-- Custom Fonts -->
			<link href="bower_components/font-awesome/css/font-awesome.min.css"
				rel="stylesheet" type="text/css" />
			<!-- jQuery -->
			<script src="bower_components/jquery/dist/jquery.min.js"></script>

			<!-- Bootstrap Core JavaScript -->
			<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

			<!-- Metis Menu Plugin JavaScript -->
			<script src="bower_components/metisMenu/dist/metisMenu.min.js"></script>

			<!-- Custom Theme JavaScript -->
			<script src="dist/js/sb-admin-2.js"></script>

			<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
			<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
			<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


		</f:facet>
	</h:head>

	<h:body>

		<div id="wrapper">

			<!-- Navigation -->
			<nav class="navbar navbar-default navbar-static-top"
				role="navigation" style="margin-bottom: 0">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="index.xhtml"><img
					src="images/logo3.jpg" /></a> <a class="navbar-brand"
					href="index.xhtml">Happy Holidays</a>
			</div>
			<!-- /.navbar-header -->

			<ul class="nav navbar-top-links navbar-right">
				<!-- /.dropdown -->
				<li><h4>
						<a class="text-success" href="index.xhtml"><h:outputText
								value="#{userMB.users.nom} #{userMB.users.prenom}" /></a>
					</h4></li>
				<li class="dropdown"><a class="dropdown-toggle"
					data-toggle="dropdown" href="#"> <i class="fa fa-user fa-fw"></i>
						<i class="fa fa-caret-down"></i>
				</a>
					<ul class="dropdown-menu dropdown-user">
						<li><a href="profil.xhtml"><i class="fa fa-user fa-fw"></i>
								Profil</a></li>
						<li><a href="#"><i class="fa fa-th-list fa-fw"></i> Liste
								Admin</a></li>
						<li class="divider"></li>
						<li><a href="login.xhtml?status=logout"><i
								class="fa fa-sign-out fa-fw"></i> Déconnexion</a></li>
					</ul> <!-- /.dropdown-user --></li>
				<!-- /.dropdown -->
			</ul>
			<!-- /.navbar-top-links -->

			<div class="navbar-default sidebar" role="navigation">
				<div class="sidebar-nav navbar-collapse">
					<ul class="nav" id="side-menu">

						<li><a href="index.xhtml"><i
								class="fa fa-dashboard fa-fw"></i> Tableau de bord</a></li>
						<li><a href="listhotel.xhtml"><i
								class="glyphicon glyphicon-cutlery"></i> Liste des hôtels</a></li>
						<li><a href="listclient.xhtml"><i
								class="glyphicon glyphicon-user"></i> Liste des clients</a></li>
						<li><a href="listresev.xhtml"><i
								class="glyphicon glyphicon-th-list"></i> Liste des reservations</a></li>
					</ul>
				</div>
			</div>
			</nav>

			<!-- Page Content -->
			<div id="page-wrapper">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-12">
							<h1 class="page-header text-primary">Liste hotels</h1>
						</div>






						<f:view>


							<h:form id="form">


								<p:dataTable value="#{hotelMB.hotelList}" var="item" id="vtable"
									paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
									paginator="true" rows="5" style="margin-bottom:20px">

									

									<p:column filterBy="#{item.idhotel}">
										<f:facet name="header">
											<h:outputText value="Num° hotel" />
										</f:facet>
										<h:outputText value="#{item.idhotel}" />
									</p:column>

									<p:column filterBy="#{item.nomhotel}">
										<f:facet name="header">
											<h:outputText value="Nom hotel" />
										</f:facet>
										<h:outputText value="#{item.nomhotel}" />
									</p:column>
									<p:column filterBy="#{item.ville}">
										<f:facet name="header">
											<h:outputText value="ville" />
										</f:facet>
										<h:outputText value="#{item.ville}" />
									</p:column>
									<p:column filterBy="#{item.nbretoile}">
										<f:facet name="header">
											<h:outputText value="Nbr etoile" />
										</f:facet>
										<h:outputText value="#{item.nbretoile}" />
									</p:column>

									<p:column style="width:40px;text-align: center;">

										<f:facet name="header">Modifier</f:facet>
										<p:commandButton update=":form:display" process="@this"
											oncomplete="dlg.show()" image="ui-icon-pencil"
											title="Modifier">
											<f:setPropertyActionListener value="#{item}"
												target="#{hotelMB.selectedHotel}" />

										</p:commandButton>

									</p:column>

									<p:column style="width:40px;text-align: center;">

										<f:facet name="header">Supprimer</f:facet>
										<p:commandButton image="ui-icon-trash" process="@this"
											oncomplete="dlg1.show()" update=":form:display1">
											<f:setPropertyActionListener value="#{item}"
												target="#{hotelMB.selectedHotel}" />

										</p:commandButton>
									</p:column>




									<p:column style="width:40px;text-align: center;">

										<f:facet name="header">Chambres</f:facet>
										<p:commandButton update=":frm1:display4" process="@this"
											oncomplete="dlg4.show()" image="ui-icon-trash"
											title="Chambres">
											<f:setPropertyActionListener value="#{item}"
												target="#{hotelMB.selectedHotel}" />

										</p:commandButton>

									</p:column>


								</p:dataTable>

				



								<p:dialog id="dialog" header="Modification" widgetVar="dlg"
									showEffect="bounce" hideEffect="explode" width="400"
									modal="true" resizable="false">
									<center>
										<h:panelGrid id="display" columns="2" cellpadding="4">

											<f:facet name="header">
												<h1>Modifier un hotel</h1>
											</f:facet>
											<h:outputLabel value="Num hotel:" for="idh" />
											<h:inputText id="idh"
												value="#{hotelMB.selectedHotel.idhotel}" title="Num"
												required="true"
												requiredMessage="The Id_v field is required." />
											<h:outputLabel value="Nom hotel:" for="nom" />
											<h:inputText id="nom"
												value="#{hotelMB.selectedHotel.nomhotel}" title="Nom" />


											<h:outputLabel value="Ville:" for="ville" />
											<p:selectOneMenu id="ville" value="#{hotelMB.hotel.ville}"
												style="width:125px;margin-left: 10px;"
												requiredMessage="Le champ ville est vide !!" required="true">

												<f:selectItem itemLabel="Bizerte" itemValue="Bizerte" />
												<f:selectItem itemLabel="Djerba" itemValue="Djerba" />
												<f:selectItem itemLabel="Hammamet" itemValue="Hammamet" />
												<f:selectItem itemLabel="Monastir" itemValue="Monastir" />
												<f:selectItem itemLabel="Djerba" itemValue="Djerba" />
												<f:selectItem itemLabel="Sousse" itemValue="Sousse" />
												<f:selectItem itemLabel="Tabarka" itemValue="Tabarka" />
												<f:selectItem itemLabel="Tunis" itemValue="Tunis" />
												<f:selectItem itemLabel="Touzeur" itemValue="Touzeur" />
												<f:selectItem itemLabel="Zarzis" itemValue="Zarzis" />

											</p:selectOneMenu>


											<h:outputLabel value="Nombre d'étoile:" for="nbre" />
											<p:selectOneMenu id="nbre"
												value="#{hotelMB.selectedHotel.nbretoile}"
												style="width:125px;margin-left: 10px;"
												requiredMessage="Le champ nobre d'étoile est vide !!"
												required="true">
												<f:selectItem itemLabel="Etoile" itemValue="" />

												<f:selectItem itemLabel="3" itemValue="3" />
												<f:selectItem itemLabel="4" itemValue="4" />
												<f:selectItem itemLabel="5" itemValue="5" />


											</p:selectOneMenu>




											<p:commandButton value="Enregistrer"
												action="#{hotelMB.updHotel()}" update="vtable"
												image="ui-icon-disk" oncomplete="dlg.hide()" ajax="false" />
											<p:commandButton value="Annuler" action="#" update="vtable"
												oncomplete="dlg.hide()" />

										</h:panelGrid>
									</center>
								</p:dialog>

								<p:confirmDialog id="dlg1"
									message="Vous Voulez Vraiment Supprimer cet hôtel ?"
									header="Suppression Hôtel" severity="alert" widgetVar="dlg1">
									<center>
										<h:panelGrid id="display1" columns="2" cellpadding="4">


											<h:outputText value="Nom d'hôtel" />
											<h:outputText
												value="#{hotelMB.selectedHotel.nomhotel} #{hotelMB.selectedHotel.ville}" />

											<p:commandButton value="Supprimer"
												action="#{hotelMB.deleteHotel()}" image="ui-icon-trash"
												update="vtable" oncomplete="dlg1.hide()" ajax="false" />
											<p:commandButton value="Annuler" action="#" update="vtable"
												oncomplete="dlg1.hide()" />

										</h:panelGrid>
									</center>
								</p:confirmDialog>


							</h:form>

							<h:form id="frm1">
								<p:dialog id="dialog4" header="Ajout Chambres" widgetVar="dlg4"
									showEffect="bounce" hideEffect="explode" width="500"
									modal="true" resizable="false">
									<center>
										<h:panelGrid id="display4" columns="2" cellpadding="4">

											<f:facet name="header">
												<h3>
													<h:outputLabel value="#{hotelMB.selectedHotel.nomhotel}" />
												</h3>
											</f:facet>


											<h:outputLabel value="Categories:" for="categorie" />
											<p:selectOneMenu id="categorie"
												value="#{chambresMB.idCSelected}">

												<f:selectItem itemLabel="Choisir " itemValue=""
													noSelectionOption="true" />
												<f:selectItems value="#{categoriesMB.getCategoriesList()}"
													var="categories" itemLabel="#{categories.nom}"
													itemValue="#{categories.idcategories}" />


											</p:selectOneMenu>
											<h:outputLabel for="dph" value="Début priode d'hiver:" />
											<h:outputLabel for="fph" value="Fin priode d'hiver:" />
											<p:calendar id="dph" value="#{chambresMB.dph}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<p:calendar id="fph" value="#{chambresMB.fph}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<h:outputLabel value="Prix saison hiver:" for="px1" />
											<h:inputText id="px1" value="#{chambresMB.px1}"
												title="Prix saison hiver" />
											<h:outputLabel for="dpp" value="Début priode printemps:" />
											<h:outputLabel for="fpp" value="Fin priode printemps:" />
											<p:calendar id="dpp" value="#{chambresMB.dpp}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<p:calendar id="fpp" value="#{chambresMB.fpp}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<h:outputLabel value="Prix saison printemps:" for="px2" />
											<h:inputText id="px2" value="#{chambresMB.px2}"
												title="Prix saison printemps" />
											<h:outputLabel for="dpe" value="Début priode d'été:" />
											<h:outputLabel for="fpe" value="Fin priode d'été:" />
											<p:calendar id="dpe" value="#{chambresMB.dpe}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<p:calendar id="fpe" value="#{chambresMB.fpe}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<h:outputLabel value="Prix saison été:" for="px3" />
											<h:inputText id="px3" value="#{chambresMB.px3}"
												title="Prix saison été" />
											<h:outputLabel for="dpa" value="Début priode d'automne:" />
											<h:outputLabel for="fpa" value="Fin priode d'automne:" />
											<p:calendar id="dpa" value="#{chambresMB.dpa}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<p:calendar id="fpa" value="#{chambresMB.fpa}" locale="de"
												navigator="true" pattern="dd/MM/yyyy" />
											<h:outputLabel value="Prix saison automne:" for="px4" />
											<h:inputText id="px4" value="#{chambresMB.px4}"
												title="Prix saison hiver" />

											<h:outputLabel value="Num 1er chambre:" for="chm1" />
											<h:outputLabel value="Num dernière chambre:" for="chmd" />
											<h:inputText id="chm1" value="#{chambresMB.chmp}"
												title="Num 1er chambre" />
											<h:inputText id="chmd" value="#{chambresMB.chmd}"
												title="Num dernière chambre" />


											<p:commandButton value="Enregistrer"
												action="#{chambresMB.addChambres(hotelMB.selectedHotel.idhotel)}"
												update=":form:vtable" image="ui-icon-disk"
												oncomplete="dlg4.hide()" ajax="false" />
											<p:commandButton value="Annuler" action="#"
												oncomplete="dlg4.hide()" />

										</h:panelGrid>
									</center>
								</p:dialog>
							</h:form>

						</f:view>


						<div>
							<a href="ajouthotel.xhtml">
								<button type="button" class="btn btn-primary" align="left">
									<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
									Ajouter un Hotel
								</button>
							</a> <a href="listprix.xhtml">
								<button type="button" class="btn btn-info" align="right">
									<span class="glyphicon glyphicon-arrow-right"
										aria-hidden="true"></span> Liste des prix
								</button>
							</a>
							

						</div>
						





					</div>
					<!-- /.row -->
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- /#page-wrapper -->

		</div>
		<!-- /#wrapper -->


	</h:body>

</f:view>

</html>